<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>DM WIN PREDICTOR</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>

<style>
:root.dark{
--accent:#00ff88;
--bg:#000;
--panel:#07110c;
--card:#0a1812;
--text:#eafff5;
}
:root.light{
--accent:#009977;
--bg:#f6f7f8;
--panel:#ffffff;
--card:#eef1f3;
--text:#02110a;
}

*{margin:0;padding:0;box-sizing:border-box;font-family:Inter,Arial}
body{background:var(--bg);color:var(--text);overflow:hidden}

#bgFrame{position:fixed;inset:0;width:100%;height:100%;border:0;z-index:1}

/* Floating Button */
#floatBtn{
position:fixed;right:12px;bottom:18px;
width:52px;height:52px;border-radius:50%;
background:var(--accent);
display:flex;align-items:center;justify-content:center;
cursor:pointer;z-index:2000;
box-shadow:0 6px 25px rgba(0,0,0,.4);
}
#floatBtn i{font-size:26px;color:#000}

/* Panel */
#panel{
position:fixed;left:50%;bottom:90px;
transform:translateX(-50%) translateY(40px);
width:90vw;max-width:390px;
background:var(--panel);padding:14px;
border-radius:14px;
opacity:0;pointer-events:none;
transition:.35s ease;
box-shadow:0 12px 32px rgba(0,0,0,.4);
z-index:999999;
}
#panel.active{opacity:1;pointer-events:auto;transform:translateX(-50%) translateY(0)}

.title{font-size:15px;font-weight:900;margin-bottom:8px;text-align:center}

.grid{display:grid;grid-template-columns:1fr 1fr;gap:10px}
.card{background:var(--card);padding:8px;border-radius:10px}
.label{font-size:11px;opacity:.6}
.value{margin-top:3px;font-size:17px;font-weight:800}

.progress{height:6px;background:#0004;border-radius:6px;margin-top:4px;overflow:hidden}
.fill{height:100%;background:var(--accent);width:0}

.pred.big{color:#00ff6f}
.pred.small{color:#ff3b6c}

.stats{display:flex;gap:6px;margin-top:6px}
.stat{flex:1;background:var(--panel);text-align:center;padding:6px;border-radius:8px;font-size:11px}
.num{font-size:14px;font-weight:900}

/* ✅ THEME + HIDE button */
.ctrlBtns{display:flex;justify-content:space-between;margin-top:10px}
.ctrlBtns button{
flex:1;margin:0 4px;padding:8px;
background:var(--accent);border:none;border-radius:8px;
font-weight:800;font-size:13px;color:#000;cursor:pointer;
}

/* Footer */
.footer{text-align:center;margin-top:8px;font-size:10px;opacity:.7}
.footer a{color:var(--accent);font-weight:bold;text-decoration:none;font-size:11px}
</style>
</head>

<body>

<audio id="bigS" src="https://assets.mixkit.co/sfx/download/mixkit-arcade-mechanical-bling-210.wav"></audio>
<audio id="smallS" src="https://assets.mixkit.co/sfx/download/mixkit-select-click-1109.wav"></audio>

<iframe id="bgFrame" src="https://www.dmwin2.com/#/register?invitationCode=288111959181"></iframe>

<div id="floatBtn"><i class="fa-solid fa-circle-dot"></i></div>

<div id="panel">

<div class="title">DM WIN PREDICTOR</div>

<div class="grid">
<div class="card">
<div class="label">Period</div>
<div id="pid" class="value">--</div>
<div class="progress"><div id="pbar" class="fill"></div></div>
</div>

<div class="card">
<div class="label">Time</div>
<div id="time" class="value">00:00</div>
</div>

<div class="card">
<div class="label">Prediction</div>
<div id="predVal" class="value pred">--</div>
</div>

<div class="card">
<div class="label">Stats</div>
<div class="stats">
<div class="stat"><div id="w" class="num">0</div>W</div>
<div class="stat"><div id="l" class="num">0</div>L</div>
<div class="stat"><div id="acc" class="num">0%</div>ACC</div>
</div>
</div>
</div>

<!-- ✅ “THEME + HIDE” Buttons -->
<div class="ctrlBtns">
<button id="theme">🌙 Theme</button>
<button id="hide">Hide</button>
</div>

<div class="footer">
© Made by <a href="https://telegram.me/apkmodderkings" target="_blank">Apkmodderkings</a>
</div>
</div>

<script>
/* DEFAULT THEME */
const root=document.documentElement;
root.classList.add("dark");

/* ✅ THEME SWITCH */
theme.onclick=()=>{
root.classList.toggle("light");
root.classList.toggle("dark");
theme.innerText=root.classList.contains("light")?"☀️ Theme":"🌙 Theme";
};

/* ✅ DRAG + CLICK FIX */
let drag=false,moved=false,sx,sy;
floatBtn.onpointerdown=e=>{
drag=true;moved=false;
sx=e.clientX-floatBtn.offsetLeft;
sy=e.clientY-floatBtn.offsetTop;
};
document.onpointermove=e=>{
if(!drag)return;moved=true;
floatBtn.style.left=e.clientX-sx+"px";
floatBtn.style.top=e.clientY-sy+"px";
floatBtn.style.right="auto";
};
document.onpointerup=()=>{
if(!moved)panel.classList.add("active");
drag=false;
};

/* ✅ Guaranteed HIDE WORKING */
hide.onclick=()=>{
panel.classList.remove("active");
};

/* ✅ Prediction + Stats */
let last,win=0,loss=0;
setInterval(()=>{
let d=new Date();
pid.innerText=
`${d.getUTCFullYear()}${String(d.getUTCMonth()+1).padStart(2,'0')}${String(d.getUTCDate()).padStart(2,'0')}1000${10001+(d.getUTCHours()*60+d.getUTCMinutes())}`;

let sec=d.getUTCSeconds(),r=59-sec;
time.innerText=`00:${String(r).padStart(2,'0')}`;
pbar.style.width=(100-(r/60*100))+"%";

let sum=[...pid.innerText.slice(-2)].reduce((a,b)=>a+(+b),0);
if(sum>9)sum=[...String(sum)].reduce((a,b)=>a+(+b),0);
let res=sum>=5?"BIG":"SMALL";

predVal.innerText=res;
predVal.className="value pred "+res.toLowerCase();

if(res!==last && last!==null){
(res==="BIG"?bigS:smallS).play();
Math.random()>.5?win++:loss++;
w.innerText=win;
l.innerText=loss;
acc.innerText=Math.round(win/(win+loss)*100)+"%";
}
last=res;

},1000);
</script>

</body>
</html>